# Changelog

本文档记录了Choerodon 0.12.0 中 **知识管理、敏捷管理、微服务开发框架、持续交付、测试管理**等功能的优化和BUG修复记录。

## 知识管理

### [0.12.0] - 2018-12-21

### 新增

- 新增Wiki中的文档或者空间可以设置未登录用户访问的权限。
- 新增Wiki编辑器在编辑时可以设置字体颜色和背景色的功能。
- 新增Wiki编辑器快捷键Ctrl + s快速保存的功能。
- 新增issue宏选择得到的issue的完成状态是实时获取的功能。
- 新增issue宏在项目选择时可以搜索的功能。
- 新增Wiki左侧边栏的树状浏览器可以自动定位到用户当前页面位置的功能。
- 新增项目或组织首页的Wiki空间小组件在没有空间的情况下引导用户创建空间的功能。

### 修改

- 修改Wiki的编辑器样式，编辑区域为标准A4纸大小。
- 修改上传附件过程的样式。
- 修改创建页面的标题等显示内容。
- 增加通知信息的查看更新按钮。
- 修改了403、404页面显示

### 修复

- 修复Wiki创建页面之后保存报错，但实际已经保存了的问题。
- 修复用户使用长方形的头像时显示错误的问题。
- 修复空间首页用户点击编辑按钮页面错乱的问题。
- 修复在页面复制时，标题显示错误的bug。
- 修复通知信息的标题太长导致遮挡的问题。
- 修复所有更新页数据获取较慢的问题。

## 敏捷管理

### [0.12.0] - 2018-12-21

### 新增

- 新增组织层问题设置模块：包括问题类型设置、状态机设置、问题属性三个部分。
- 问题详情新增可添加Wiki文档的功能。
- 新增版本详情筛选功能：版本详情支持高级过滤筛选。
- 新增活跃冲刺问题拖动排序功能：活跃冲刺面板上的问题支持拖动排序（故事泳道故事无法拖动）。
- 新增活跃冲刺成员筛选过滤功能：活跃冲刺支持项目下所有成员筛选过滤功能
- 工作日历新增2019年法定节假日数据。
- 版本详情新增问题链接。
- 发布版本新增预计发布日期。

### 修改

- 待办事项中冲刺的经办人工作量修改为问题总数、问题剩余数、总任务工时、剩余任务工时。
- 问题创建人可以删除自己创建的问题。
- 任务转化为子任务后状态自动修改为默认状态。
- 完成冲刺时，未完成的子任务随父任务一并移动到下个冲刺。
- 创建快速搜索的关系字段显示名称改为中文。
- 创建版本时结束日期修改为预计发布日期。
- 发布版本的时候需要输入实际发布时间。
- 面板设置列约束只允许项目所有者修改。
- 合并版本只能选择规划中的版本。
- 版本详情创建日期修改为开始日期。
- 列约束权限变更，只有项目管理员可以编辑。
- 优化了史诗、版本侧栏、故事地图图标等。
- 优化了待办事项编辑版本名称的重复校验。

### 修复

- 修复了版本统计未完成问题计数错误。
- 修复了问题详情优先级下拉列表显示不全错误。
- 修复了版本名称为中文时创建失败的错误。
- 修复了创建史诗增加空操作约束的错误。

## 持续交付

### [0.12.0] - 2018-12-21

### 新增

- 新增应用的开发权限分配功能，支持为各个应用配置特定的开发操作人员。
- 新增实例事件，支持查看各个实例job与pod的事件记录。
- 新增配置映射功能，支持在每个环境下添加配置映射。
- 新增密文功能，支持在每个环境下添加密文，可用于存储小片敏感数据的k8s资源，例如密码，token，或者密钥。
- 新增组织层证书的管理功能，在组织层创建的证书，可在组织下各个项目创建证书时使用。
- 新增实例下Deployment查看更多的详情，包括：端口、数据卷、健康检查、主机设置、环境变量、标签。
- 新增测试应用的创建，此类型的应用仅可用于自动化测试。
- 应用模板、集群模块与环境模块的创建时，新增处理中的状态，用于解决异步处理带来的滞后问题。
- 新增页面自动刷新的功能，可点击所有刷新按钮旁的自动刷新按钮开关进行设置。
- 集群中自动新增CrtManager插件，用于使该集群下的环境能正常使用申请证书的功能。
- 新增Dashboard与报表中的查看权限，此权限与应用权限和环境权限相关。
- 新建实例时新增实例名称自定义的功能。
- 环境卡片上新增显示该环境所连接的集群名称。

### 修改

- 优化了标记名称的命名规则。
- 优化了实例模块的显示方式，在实例栏中显示该实例下pod的状态与总数量。
- 优化了YMAL编辑器的样式。
- 优化了环境总览页面内应用部署成功后的页面逻辑。
- 优化了开发流水线与报表部分空界面的显示。
- 优化了上传证书时的粘贴框。

### 修复

- 修复环境流水线内，切换环境按钮消失的问题。
- 修复环境流水线内修改环境名称后页面逻辑的问题。
- 修复Dashboard页面拖动卡片出现空白页的问题。
- 修复实例升级失败，相关网络状态显示不正常的问题。
- 修复持续集成列表，sonarqube阶段不可链接跳转的问题。
- 修复代码提交报表中英文缺失导致的空白问题。
- 修复应用部署时环境选择引起的问题。
- 修复创建应用失败后，未隐藏编辑按钮与停用按钮的问题。

### 删除

- 移除了实例详情界面的部署详情模块。

## 测试管理

### [0.12.0] - 2018-12-21

### 新增

- 增加 `自动化测试` 模块。

### 修改

- `测试计划` 中增加以 `测试阶段` 批量指派给对应测试人员的功能。
- `测试计划` 和 `测试执行` 测试执行列表增加 `优先级` 字段及其筛选功能。

### 修复

- 修复导出excel中issue描述错误以及富文本图片错误的问题。
- 修复 `测试计划` 和 `测试执行` 界面中切换项目数据错误的问题。
- 修复执行详情中切换上一个\下一个时测试步骤数据错误的问题。
- 修复仪表盘数据显示的问题。

### 删除
- 移除0.10.0版本中使用的修复数据接口。

## Choerodon微服务开发框架

### [0.12.0] - 2018-12-21

### 新增

**0.12.0显著新增特性**

- 任务调度创建任务添加通知对象，当任务状态改变时，会向通知对象发送消息。
- 新增授权管理，用户可以查看并管理自己的授权信息。
- 添加系统配置平台密码策略。
- 系统配置平台徽标和导航栏图形标支持剪裁。
- 新增API概览，以便于平台管理员和平台开发者了解API的调用情况。
- 添加系统公告，平台管理员可以向整个平台发送公告。
- 用户管理列表页添加重置密码功能。
- 发送设置可配置站内信类型和是否允许接收配置。
- 组织层和项目层添加事务实例。
- 事务实例添加按任务查看。
- 事务实例执行失败默认向触发者发送站内信。

**控件0.4.5**

- `Icon`: 增加新的图标。

### 修改

**0.12.0显著修改特性**

- 优化个人信息界面。
- 优化创建任务为分步进行。
- 优化API测试界面为树形结构。
- 优化事务实例界面。
- 优化角色分配新增角色页面，用户下拉框显示用户头像。

**控件0.4.5**

- `Select`: select全选和无更改为不对禁用的选项生效。

**boot0.9.4**

- 404页面美化。
- 优化新手指引提示。
- 优化消息已读的逻辑。
- 修改右上角头像菜单栏。

### 修复

**0.12.0显著修复特性**
- 修复邮件通知
- 修复平台配置重置后无法保存修改的问题。
- 修复菜单配置删除菜单不发请求的问题。